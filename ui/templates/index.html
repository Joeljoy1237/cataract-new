<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cataract AI Diagnostic</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;500&display=swap"
    rel="stylesheet" />
</head>

<body>
  <div class="app-container">
    <header>
      <h1>
        <span class="pulse">üëÅÔ∏è</span> Cataract<span class="highlight">AI</span>
      </h1>
      <p>Advanced Deep Learning Diagnostics</p>
    </header>

    <main>
      <!-- Fundus Section -->
      <section class="analysis-section">
        <h2 style="margin-bottom: 1rem; color: var(--primary);">Fundus Image Analysis</h2>
        <div class="upload-section" id="drop-zone">
          <input type="file" id="file-input" accept="image/*" hidden />
          <div class="upload-content">
            <div class="icon">üì§</div>
            <h3>Upload Fundus Image</h3>
            <p>Drag & Drop or Click to Browse</p>
          </div>
        </div>

        <div class="loader hidden" id="loader">
          <div class="scanner"></div>
          <p>Analyzing Retinal Structures...</p>
        </div>

        <div class="results-section hidden" id="results">
          <div class="pipeline-view">
            <div class="step">
              <span>Original</span>
              <img id="img-original" src="" alt="Original" />
            </div>
            <div class="arrow">‚ûî</div>
            <div class="step">
              <span>Green Channel</span>
              <img id="img-green" src="" alt="Green Channel" />
            </div>
            <div class="arrow">‚ûî</div>
            <div class="step">
              <span>Denoised</span>
              <img id="img-denoised" src="" alt="Denoised" />
            </div>
            <div class="arrow">‚ûî</div>
            <div class="step">
              <span>Enhanced (CLAHE)</span>
              <img id="img-clahe" src="" alt="CLAHE" />
            </div>
          </div>

          <div class="diagnosis-card">
            <h2>Diagnosis Result</h2>
            <div class="status" id="diagnosis-text">--</div>
            <div class="confidence">
              Confidence: <span id="confidence-score">--</span>
            </div>
          </div>

          <button class="reset-btn" onclick="resetFundus()">
            Analyze Another
          </button>
        </div>
      </section>

      <hr style="margin: 4rem 0; border: 0; border-top: 1px solid #30363d;">

      <!-- Slit-Lamp Section -->
      <section class="analysis-section">
        <h2 style="margin-bottom: 1rem; color: var(--secondary);">Slit-Lamp Image Analysis</h2>
        <div class="upload-section" id="drop-zone-slit">
          <input type="file" id="file-input-slit" accept="image/*" hidden />
          <div class="upload-content">
            <div class="icon">üëÅÔ∏è</div>
            <h3>Upload Slit-Lamp Image</h3>
            <p>Drag & Drop or Click to Browse</p>
          </div>
        </div>

        <div class="loader hidden" id="loader-slit">
          <div class="scanner" style="background: var(--text-muted);">
            <div style="background: var(--secondary); box-shadow: 0 0 10px var(--secondary);" class="scanner-bar"></div>
          </div>
          <p>Analyzing Anterior Segment...</p>
        </div>

        <div class="results-section hidden" id="results-slit">
          <div class="pipeline-view">
            <div class="step">
              <span>Original</span>
              <img id="slit-img-original" src="" alt="Original" />
            </div>
            <div class="arrow">‚ûî</div>
            <div class="step">
              <span>Green Channel</span>
              <img id="slit-img-green" src="" alt="Green Channel" />
            </div>
            <div class="arrow">‚ûî</div>
            <div class="step">
              <span>Denoised</span>
              <img id="slit-img-denoised" src="" alt="Denoised" />
            </div>
            <div class="arrow">‚ûî</div>
            <div class="step">
              <span>Enhanced (CLAHE)</span>
              <img id="slit-img-clahe" src="" alt="CLAHE" />
            </div>
          </div>

          <div class="diagnosis-card">
            <h2>Diagnosis Result</h2>
            <div class="status" id="slit-diagnosis-text">--</div>
            <div class="confidence">
              Confidence: <span id="slit-confidence-score">--</span>
            </div>
          </div>

          <button class="reset-btn" style="border-color: var(--secondary); color: var(--secondary);"
            onclick="resetSlit()">
            Analyze Another
          </button>
        </div>
      </section>
    </main>
  </div>
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>